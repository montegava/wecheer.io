<div class="dashboard-container">
  <mat-card *ngIf="isLoading" class="loading-card">
    <mat-card-content>
      <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
      <p>Loading data...</p>
    </mat-card-content>
  </mat-card>

  <div *ngIf="error" class="error-message">
    <mat-card class="error-card">
      <mat-card-content>
        {{ error }}
      </mat-card-content>
    </mat-card>
  </div>

  <div>
    <mat-card class="image-card" *ngIf="latestEvent && !isLoading && !error">
      <mat-card-header>
        <mat-card-title>Latest Image</mat-card-title>
        <mat-card-subtitle>
          Received at {{ latestEvent.receivedTime | date : "medium" }}
        </mat-card-subtitle>
      </mat-card-header>
      <img
        mat-card-image
        [src]="latestEvent.imageUrl"
        alt="Latest received image"
      />
      <mat-card-content>
        <strong>Description:</strong>
        <p>{{ latestEvent.description }}</p>
      </mat-card-content>
    </mat-card>

    <mat-card class="count-card">
      <mat-card-content>
        <strong>Events in the last hour:</strong> {{ eventCount }}
      </mat-card-content>
    </mat-card>
  </div>
</div>
